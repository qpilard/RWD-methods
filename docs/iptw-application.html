<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Propensity score methods | Methods for the analysis of Real World Data</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Propensity score methods | Methods for the analysis of Real World Data" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.jpeg" />
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Propensity score methods | Methods for the analysis of Real World Data" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="twitter:image" content="/images/logo.jpeg" />

<meta name="author" content="Quentin Pilard" />


<meta name="date" content="2024-10-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="target-trial-emulation.html"/>
<link rel="next" href="clone-censor-weight.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<ul class="toc">
  <li class="toc-logo">
    <a href="./">
      <img src="images/logo.jpg" alt="Logo">
    </a>
  </li>
  <li class="toc-text">
    <a href="./">Real World Data methods</a>
  </li>
</ul>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> url: your book url like https://bookdown.org/yihui/bookdown</a></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#definition"><i class="fa fa-check"></i><b>2.1</b> Definition</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#use-of-rwd-in-drug-development"><i class="fa fa-check"></i><b>2.2</b> Use of RWD in drug development</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#addressing-challenges-with-rwd-external-control-arms-and-emulation-of-trials"><i class="fa fa-check"></i><b>2.3</b> Addressing Challenges with RWD: External Control Arms and Emulation of Trials</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="motivating-example.html"><a href="motivating-example.html"><i class="fa fa-check"></i><b>3</b> Motivating example</a></li>
<li class="chapter" data-level="4" data-path="target-trial-emulation.html"><a href="target-trial-emulation.html"><i class="fa fa-check"></i><b>4</b> Target Trial Emulation using observational data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="target-trial-emulation.html"><a href="target-trial-emulation.html#background"><i class="fa fa-check"></i><b>4.1</b> Background</a></li>
<li class="chapter" data-level="4.2" data-path="target-trial-emulation.html"><a href="target-trial-emulation.html#specify-the-target-trial"><i class="fa fa-check"></i><b>4.2</b> Specify the target trial</a></li>
<li class="chapter" data-level="4.3" data-path="target-trial-emulation.html"><a href="target-trial-emulation.html#emulate-the-target-trial"><i class="fa fa-check"></i><b>4.3</b> Emulate the target trial</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="iptw-application.html"><a href="iptw-application.html"><i class="fa fa-check"></i><b>5</b> Propensity score methods</a>
<ul>
<li class="chapter" data-level="5.1" data-path="iptw-application.html"><a href="iptw-application.html#background-1"><i class="fa fa-check"></i><b>5.1</b> Background</a></li>
<li class="chapter" data-level="5.2" data-path="iptw-application.html"><a href="iptw-application.html#identify-confounders"><i class="fa fa-check"></i><b>5.2</b> Identify confounders</a></li>
<li class="chapter" data-level="5.3" data-path="iptw-application.html"><a href="iptw-application.html#iptw-implementation"><i class="fa fa-check"></i><b>5.3</b> IPTW implementation</a></li>
<li class="chapter" data-level="5.4" data-path="iptw-application.html"><a href="iptw-application.html#balance-diagnostics"><i class="fa fa-check"></i><b>5.4</b> Balance Diagnostics</a></li>
<li class="chapter" data-level="5.5" data-path="iptw-application.html"><a href="iptw-application.html#outcome-analysis"><i class="fa fa-check"></i><b>5.5</b> Outcome analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="clone-censor-weight.html"><a href="clone-censor-weight.html"><i class="fa fa-check"></i><b>6</b> Clone-Censor-Weight method</a></li>
<li class="chapter" data-level="" data-path="r-code-simu.html"><a href="r-code-simu.html"><i class="fa fa-check"></i><strong>Appendix 1:</strong> R code and DAG of the motivating example</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Methods for the analysis of Real World Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="iptw-application" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Propensity score methods<a href="iptw-application.html#iptw-application" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="background-1" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Background<a href="iptw-application.html#background-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <strong>Propensity Score</strong> (PS) is used to replicate the randomization process, aiming to balance individual characteristics at the beginning of a study. Statistically, the PS is defined as the conditional probability of receiving the exposure of interest based on observed baseline characteristics. It is commonly estimated using multivariable logistic regression, where the exposure serves as the dependent variable and the baseline characteristics act as independent variables.</p>
<p>Once the PS is calculated, it can be utilized in various approaches, including matching, stratification, <strong>Inverse Probability of Treatment Weighting</strong> (IPTW), and covariate adjustment.</p>
<p>The ITT analysis described in the <a href="target-trial-emulation.html#specify-the-target-trial">4.2</a> will be applied to illustrate the application of IPTW.</p>
</div>
<div id="identify-confounders" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Identify confounders<a href="iptw-application.html#identify-confounders" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Observed baseline characteristics incorporated in the logistic regression must be defined as <strong>confounder</strong>s, which are <strong>variables that affect both treatment assignment and the outcome</strong> without being part of the causal pathway between them. Other variable types, such as mediators or colliders, may also be present; however, adjusting for these can introduce bias.</p>
<p>We recommend using Directed Acyclic Graphs (DAGs) to visually represent causal relationships, and communicate with clinical experts. DAGs can be created using the DAGitty website or dagitty R package.</p>
<p>In our example, we identified age at diagnosis, gender, Beck score and socioeconomic status as potential confounders of the association between treatment exposure and relapse.</p>
</div>
<div id="iptw-implementation" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> IPTW implementation<a href="iptw-application.html#iptw-implementation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This code implements the IPTW approach using the Average Treatment Effect (ATE) estimand:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="iptw-application.html#cb1-1" tabindex="-1"></a><span class="fu">library</span>(WeightIt)</span>
<span id="cb1-2"><a href="iptw-application.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-3"><a href="iptw-application.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb1-4"><a href="iptw-application.html#cb1-4" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="iptw-application.html#cb1-5" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb1-6"><a href="iptw-application.html#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="iptw-application.html#cb1-7" tabindex="-1"></a><span class="co">#Perform weighting</span></span>
<span id="cb1-8"><a href="iptw-application.html#cb1-8" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">weightit</span>(TREAT0 <span class="sc">~</span> AGE <span class="sc">+</span> GENDER <span class="sc">+</span> SOCIO_ECO <span class="sc">+</span> BECK0,</span>
<span id="cb1-9"><a href="iptw-application.html#cb1-9" tabindex="-1"></a>                            <span class="at">data =</span> data,</span>
<span id="cb1-10"><a href="iptw-application.html#cb1-10" tabindex="-1"></a>                            <span class="at">method =</span> <span class="st">&quot;glm&quot;</span>,</span>
<span id="cb1-11"><a href="iptw-application.html#cb1-11" tabindex="-1"></a>                            <span class="at">estimand =</span> <span class="st">&quot;ATE&quot;</span>)</span>
<span id="cb1-12"><a href="iptw-application.html#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a href="iptw-application.html#cb1-13" tabindex="-1"></a>data<span class="sc">$</span>weights <span class="ot">&lt;-</span> W<span class="sc">$</span>weights</span>
<span id="cb1-14"><a href="iptw-application.html#cb1-14" tabindex="-1"></a>data<span class="sc">$</span>ps <span class="ot">&lt;-</span> W<span class="sc">$</span>ps</span></code></pre></div>
</div>
<div id="balance-diagnostics" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Balance Diagnostics<a href="iptw-application.html#balance-diagnostics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To evaluate balance after weighting, visual assessment is usually done. First, PS distributions are represented to assess the degree of overlap between the Setralex and Duloxyn individuals The objective is to have a large enough common support to ensure that it exists a population in-between these two.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="iptw-application.html#cb2-1" tabindex="-1"></a><span class="co">#Display PS</span></span>
<span id="cb2-2"><a href="iptw-application.html#cb2-2" tabindex="-1"></a>plot1<span class="ot">&lt;-</span>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(data, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ps))<span class="sc">+</span></span>
<span id="cb2-3"><a href="iptw-application.html#cb2-3" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_density</span>(<span class="at">colour=</span><span class="st">&quot;red&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-4"><a href="iptw-application.html#cb2-4" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_density</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">group =</span> TREAT0, <span class="at">fill =</span> TREAT0),<span class="at">alpha=</span><span class="fl">0.4</span>)<span class="sc">+</span></span>
<span id="cb2-5"><a href="iptw-application.html#cb2-5" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Unweighted&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-6"><a href="iptw-application.html#cb2-6" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name=</span><span class="st">&quot;Treatment&quot;</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Sertralex&quot;</span>,<span class="st">&quot;Duloxyn&quot;</span>),<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#FFDB6D&quot;</span>,<span class="st">&quot;#00AFBB&quot;</span>))<span class="sc">+</span></span>
<span id="cb2-7"><a href="iptw-application.html#cb2-7" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Propensity Score (PS)&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-8"><a href="iptw-application.html#cb2-8" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Density&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-9"><a href="iptw-application.html#cb2-9" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb2-10"><a href="iptw-application.html#cb2-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">&quot;&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-11"><a href="iptw-application.html#cb2-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb2-12"><a href="iptw-application.html#cb2-12" tabindex="-1"></a>  </span>
<span id="cb2-13"><a href="iptw-application.html#cb2-13" tabindex="-1"></a><span class="co">#After weighting</span></span>
<span id="cb2-14"><a href="iptw-application.html#cb2-14" tabindex="-1"></a>plot2<span class="ot">&lt;-</span>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(data, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> ps, <span class="at">weight =</span> weights))<span class="sc">+</span></span>
<span id="cb2-15"><a href="iptw-application.html#cb2-15" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_density</span>(<span class="at">colour=</span><span class="st">&quot;red&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-16"><a href="iptw-application.html#cb2-16" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_density</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">group =</span> TREAT0, <span class="at">fill =</span> TREAT0),<span class="at">alpha=</span><span class="fl">0.4</span>)<span class="sc">+</span></span>
<span id="cb2-17"><a href="iptw-application.html#cb2-17" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Weighted&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-18"><a href="iptw-application.html#cb2-18" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name=</span><span class="st">&quot;Treatment&quot;</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Sertralex&quot;</span>,<span class="st">&quot;Duloxyn&quot;</span>),<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;#FFDB6D&quot;</span>,<span class="st">&quot;#00AFBB&quot;</span>))<span class="sc">+</span></span>
<span id="cb2-19"><a href="iptw-application.html#cb2-19" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Propensity Score (PS)&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-20"><a href="iptw-application.html#cb2-20" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Density&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-21"><a href="iptw-application.html#cb2-21" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb2-22"><a href="iptw-application.html#cb2-22" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">&quot;*the red line indicates the PS distribution for the overall population&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-23"><a href="iptw-application.html#cb2-23" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb2-24"><a href="iptw-application.html#cb2-24" tabindex="-1"></a>  </span>
<span id="cb2-25"><a href="iptw-application.html#cb2-25" tabindex="-1"></a><span class="fu">ggarrange</span>(plot1,plot2,<span class="at">common.legend =</span> T)</span></code></pre></div>
<p><img src="_main_files/figure-html/ps-1.png" width="672" /></p>
<p>We observed that after weighting the two distributions curves overlaid and therefore this indicates that the dataset is correctly balance in average. Then, we usually assess balance for each variable.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="iptw-application.html#cb3-1" tabindex="-1"></a><span class="fu">love.plot</span>(W, </span>
<span id="cb3-2"><a href="iptw-application.html#cb3-2" tabindex="-1"></a>          <span class="at">binary =</span> <span class="st">&quot;std&quot;</span>, </span>
<span id="cb3-3"><a href="iptw-application.html#cb3-3" tabindex="-1"></a>          <span class="at">thresholds =</span> <span class="fu">c</span>(<span class="at">m =</span> .<span class="dv">1</span>),</span>
<span id="cb3-4"><a href="iptw-application.html#cb3-4" tabindex="-1"></a>          <span class="at">sample.names =</span> <span class="fu">c</span>(<span class="st">&quot;Before weighting&quot;</span>, <span class="st">&quot;After weighting&quot;</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/love_plot-1.png" width="672" /></p>
<p>We observe that after weighting the BECK score remains above the recommended threeshold. That is why, we suggest adjusting on it (i.e. doubly robust approach) when the outcome is investigated.</p>
<p>A summary descriptive table before and after weighting is represented below stratifed on treatment status.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="iptw-application.html#cb4-1" tabindex="-1"></a><span class="co">#Before weighting</span></span>
<span id="cb4-2"><a href="iptw-application.html#cb4-2" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="iptw-application.html#cb4-3" tabindex="-1"></a>  <span class="fu">select</span>(AGE, GENDER, SOCIO_ECO, BECK0, TREAT0) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="iptw-application.html#cb4-4" tabindex="-1"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> TREAT0, </span>
<span id="cb4-5"><a href="iptw-application.html#cb4-5" tabindex="-1"></a>              <span class="at">statistic =</span> <span class="fu">list</span>(<span class="fu">all_continuous</span>() <span class="sc">~</span> <span class="st">&quot;{mean} ({sd})&quot;</span>),</span>
<span id="cb4-6"><a href="iptw-application.html#cb4-6" tabindex="-1"></a>              <span class="at">label =</span> <span class="fu">list</span>(AGE <span class="sc">~</span> <span class="st">&quot;Age (at diagnosis)&quot;</span>,</span>
<span id="cb4-7"><a href="iptw-application.html#cb4-7" tabindex="-1"></a>                           GENDER <span class="sc">~</span> <span class="st">&quot;Gender&quot;</span>,</span>
<span id="cb4-8"><a href="iptw-application.html#cb4-8" tabindex="-1"></a>                           SOCIO_ECO <span class="sc">~</span> <span class="st">&quot;Socioeconomic status (1-5)&quot;</span>,</span>
<span id="cb4-9"><a href="iptw-application.html#cb4-9" tabindex="-1"></a>                           BECK0 <span class="sc">~</span> <span class="st">&quot;Beck score (0-63)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="iptw-application.html#cb4-10" tabindex="-1"></a>  <span class="fu">add_difference</span>(<span class="at">test =</span> <span class="fu">everything</span>() <span class="sc">~</span> <span class="st">&quot;smd&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="iptw-application.html#cb4-11" tabindex="-1"></a>  <span class="fu">add_overall</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="iptw-application.html#cb4-12" tabindex="-1"></a>  <span class="fu">modify_header</span>(label <span class="sc">~</span> <span class="st">&quot;**Variable**&quot;</span>, </span>
<span id="cb4-13"><a href="iptw-application.html#cb4-13" tabindex="-1"></a>                estimate <span class="sc">~</span> <span class="st">&quot;**SMD**&quot;</span>, </span>
<span id="cb4-14"><a href="iptw-application.html#cb4-14" tabindex="-1"></a>                stat_0 <span class="sc">~</span> <span class="st">&quot;**Total**&quot;</span>, </span>
<span id="cb4-15"><a href="iptw-application.html#cb4-15" tabindex="-1"></a>                stat_1 <span class="sc">~</span> <span class="st">&quot;**Sertralex**&quot;</span>, </span>
<span id="cb4-16"><a href="iptw-application.html#cb4-16" tabindex="-1"></a>                stat_2 <span class="sc">~</span> <span class="st">&quot;**Duloxyn**&quot;</span>)</span>
<span id="cb4-17"><a href="iptw-application.html#cb4-17" tabindex="-1"></a></span>
<span id="cb4-18"><a href="iptw-application.html#cb4-18" tabindex="-1"></a>data_selected <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="iptw-application.html#cb4-19" tabindex="-1"></a>  <span class="fu">select</span>(AGE, GENDER, SOCIO_ECO, BECK0, TREAT0)</span>
<span id="cb4-20"><a href="iptw-application.html#cb4-20" tabindex="-1"></a></span>
<span id="cb4-21"><a href="iptw-application.html#cb4-21" tabindex="-1"></a><span class="co">#After weighting</span></span>
<span id="cb4-22"><a href="iptw-application.html#cb4-22" tabindex="-1"></a>data_svy <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">ids =</span> <span class="sc">~</span><span class="dv">1</span>, <span class="at">data =</span> data_selected, <span class="at">weights =</span> <span class="sc">~</span>W<span class="sc">$</span>weights)</span>
<span id="cb4-23"><a href="iptw-application.html#cb4-23" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> data_svy <span class="sc">%&gt;%</span></span>
<span id="cb4-24"><a href="iptw-application.html#cb4-24" tabindex="-1"></a>  <span class="fu">tbl_svysummary</span>(<span class="at">by =</span> TREAT0, </span>
<span id="cb4-25"><a href="iptw-application.html#cb4-25" tabindex="-1"></a>                 <span class="at">statistic =</span> <span class="fu">list</span>(<span class="fu">all_continuous</span>() <span class="sc">~</span> <span class="st">&quot;{mean} ({sd})&quot;</span>),</span>
<span id="cb4-26"><a href="iptw-application.html#cb4-26" tabindex="-1"></a>                 <span class="at">label =</span> <span class="fu">list</span>(AGE <span class="sc">~</span> <span class="st">&quot;Age (at diagnosis)&quot;</span>,</span>
<span id="cb4-27"><a href="iptw-application.html#cb4-27" tabindex="-1"></a>                           GENDER <span class="sc">~</span> <span class="st">&quot;Gender&quot;</span>,</span>
<span id="cb4-28"><a href="iptw-application.html#cb4-28" tabindex="-1"></a>                           SOCIO_ECO <span class="sc">~</span> <span class="st">&quot;Socioeconomic status (1-5)&quot;</span>,</span>
<span id="cb4-29"><a href="iptw-application.html#cb4-29" tabindex="-1"></a>                           BECK0 <span class="sc">~</span> <span class="st">&quot;Beck score (0-63)&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-30"><a href="iptw-application.html#cb4-30" tabindex="-1"></a>  <span class="fu">add_difference</span>(<span class="at">test =</span> <span class="fu">everything</span>() <span class="sc">~</span> <span class="st">&quot;smd&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-31"><a href="iptw-application.html#cb4-31" tabindex="-1"></a>  <span class="fu">add_overall</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-32"><a href="iptw-application.html#cb4-32" tabindex="-1"></a>  <span class="fu">modify_header</span>(label <span class="sc">~</span> <span class="st">&quot;**Variable**&quot;</span>, </span>
<span id="cb4-33"><a href="iptw-application.html#cb4-33" tabindex="-1"></a>                estimate <span class="sc">~</span> <span class="st">&quot;**SMD**&quot;</span>, </span>
<span id="cb4-34"><a href="iptw-application.html#cb4-34" tabindex="-1"></a>                stat_0 <span class="sc">~</span> <span class="st">&quot;**Total**&quot;</span>,</span>
<span id="cb4-35"><a href="iptw-application.html#cb4-35" tabindex="-1"></a>                stat_1 <span class="sc">~</span> <span class="st">&quot;**Sertralex**&quot;</span>,</span>
<span id="cb4-36"><a href="iptw-application.html#cb4-36" tabindex="-1"></a>                stat_2 <span class="sc">~</span> <span class="st">&quot;**Duloxyn**&quot;</span>)</span>
<span id="cb4-37"><a href="iptw-application.html#cb4-37" tabindex="-1"></a></span>
<span id="cb4-38"><a href="iptw-application.html#cb4-38" tabindex="-1"></a><span class="cf">for</span> (int_col <span class="cf">in</span> <span class="fu">c</span>(<span class="st">&quot;modify_stat_N&quot;</span>, <span class="st">&quot;modify_stat_n&quot;</span>)) {</span>
<span id="cb4-39"><a href="iptw-application.html#cb4-39" tabindex="-1"></a>  t1<span class="sc">$</span>table_styling<span class="sc">$</span>header[[int_col]] <span class="ot">&lt;-</span></span>
<span id="cb4-40"><a href="iptw-application.html#cb4-40" tabindex="-1"></a>    t1<span class="sc">$</span>table_styling<span class="sc">$</span>header[[int_col]] <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>()</span>
<span id="cb4-41"><a href="iptw-application.html#cb4-41" tabindex="-1"></a>}</span>
<span id="cb4-42"><a href="iptw-application.html#cb4-42" tabindex="-1"></a></span>
<span id="cb4-43"><a href="iptw-application.html#cb4-43" tabindex="-1"></a><span class="fu">tbl_merge</span>(<span class="at">tbls =</span> <span class="fu">list</span>(t1, t2),</span>
<span id="cb4-44"><a href="iptw-application.html#cb4-44" tabindex="-1"></a>          <span class="at">tab_spanner =</span> <span class="fu">c</span>(</span>
<span id="cb4-45"><a href="iptw-application.html#cb4-45" tabindex="-1"></a>            <span class="fu">paste0</span>(<span class="st">&quot;**Unweighted (N=&quot;</span>,<span class="fu">nrow</span>(data),<span class="st">&quot;)**&quot;</span>), </span>
<span id="cb4-46"><a href="iptw-application.html#cb4-46" tabindex="-1"></a>            <span class="fu">paste0</span>(<span class="st">&quot;**Weighted (ESS=&quot;</span>,<span class="fu">round</span>(<span class="fu">ESS</span>(W<span class="sc">$</span>weights),<span class="dv">0</span>),<span class="st">&quot;)**&quot;</span>)</span>
<span id="cb4-47"><a href="iptw-application.html#cb4-47" tabindex="-1"></a>            )</span>
<span id="cb4-48"><a href="iptw-application.html#cb4-48" tabindex="-1"></a>          )<span class="sc">%&gt;%</span></span>
<span id="cb4-49"><a href="iptw-application.html#cb4-49" tabindex="-1"></a>  <span class="fu">modify_table_body</span>(<span class="sc">~</span> .x <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>conf.low_1, <span class="sc">-</span>conf.low_2))</span></code></pre></div>
<div id="serzlunqcl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#serzlunqcl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#serzlunqcl thead, #serzlunqcl tbody, #serzlunqcl tfoot, #serzlunqcl tr, #serzlunqcl td, #serzlunqcl th {
  border-style: none;
}

#serzlunqcl p {
  margin: 0;
  padding: 0;
}

#serzlunqcl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#serzlunqcl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#serzlunqcl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#serzlunqcl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#serzlunqcl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#serzlunqcl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#serzlunqcl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#serzlunqcl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#serzlunqcl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#serzlunqcl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#serzlunqcl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#serzlunqcl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#serzlunqcl .gt_spanner_row {
  border-bottom-style: hidden;
}

#serzlunqcl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#serzlunqcl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#serzlunqcl .gt_from_md > :first-child {
  margin-top: 0;
}

#serzlunqcl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#serzlunqcl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#serzlunqcl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#serzlunqcl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#serzlunqcl .gt_row_group_first td {
  border-top-width: 2px;
}

#serzlunqcl .gt_row_group_first th {
  border-top-width: 2px;
}

#serzlunqcl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#serzlunqcl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#serzlunqcl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#serzlunqcl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#serzlunqcl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#serzlunqcl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#serzlunqcl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#serzlunqcl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#serzlunqcl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#serzlunqcl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#serzlunqcl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#serzlunqcl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#serzlunqcl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#serzlunqcl .gt_left {
  text-align: left;
}

#serzlunqcl .gt_center {
  text-align: center;
}

#serzlunqcl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#serzlunqcl .gt_font_normal {
  font-weight: normal;
}

#serzlunqcl .gt_font_bold {
  font-weight: bold;
}

#serzlunqcl .gt_font_italic {
  font-style: italic;
}

#serzlunqcl .gt_super {
  font-size: 65%;
}

#serzlunqcl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#serzlunqcl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#serzlunqcl .gt_indent_1 {
  text-indent: 5px;
}

#serzlunqcl .gt_indent_2 {
  text-indent: 10px;
}

#serzlunqcl .gt_indent_3 {
  text-indent: 15px;
}

#serzlunqcl .gt_indent_4 {
  text-indent: 20px;
}

#serzlunqcl .gt_indent_5 {
  text-indent: 25px;
}

#serzlunqcl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#serzlunqcl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" scope="col" id="label"><span class='gt_from_md'><strong>Variable</strong></span></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" scope="colgroup" id="**Unweighted (N=600)**">
        <div class="gt_column_spanner"><span class='gt_from_md'><strong>Unweighted (N=600)</strong></span></div>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" scope="colgroup" id="**Weighted (ESS=324)**">
        <div class="gt_column_spanner"><span class='gt_from_md'><strong>Weighted (ESS=324)</strong></span></div>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_0_1"><span class='gt_from_md'><strong>Total</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_1_1"><span class='gt_from_md'><strong>Sertralex</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_2_1"><span class='gt_from_md'><strong>Duloxyn</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="estimate_1"><span class='gt_from_md'><strong>SMD</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_0_2"><span class='gt_from_md'><strong>Total</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_1_2"><span class='gt_from_md'><strong>Sertralex</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_2_2"><span class='gt_from_md'><strong>Duloxyn</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="estimate_2"><span class='gt_from_md'><strong>SMD</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Age (at diagnosis)</td>
<td headers="stat_0_1" class="gt_row gt_center">31.9 (6.1)</td>
<td headers="stat_1_1" class="gt_row gt_center">32.3 (5.8)</td>
<td headers="stat_2_1" class="gt_row gt_center">31.5 (6.3)</td>
<td headers="estimate_1" class="gt_row gt_center">0.13</td>
<td headers="stat_0_2" class="gt_row gt_center">31.5 (6.2)</td>
<td headers="stat_1_2" class="gt_row gt_center">31.4 (6.2)</td>
<td headers="stat_2_2" class="gt_row gt_center">31.6 (6.1)</td>
<td headers="estimate_2" class="gt_row gt_center">-0.02</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Gender</td>
<td headers="stat_0_1" class="gt_row gt_center"><br /></td>
<td headers="stat_1_1" class="gt_row gt_center"><br /></td>
<td headers="stat_2_1" class="gt_row gt_center"><br /></td>
<td headers="estimate_1" class="gt_row gt_center">0.32</td>
<td headers="stat_0_2" class="gt_row gt_center"><br /></td>
<td headers="stat_1_2" class="gt_row gt_center"><br /></td>
<td headers="stat_2_2" class="gt_row gt_center"><br /></td>
<td headers="estimate_2" class="gt_row gt_center">0.01</td></tr>
    <tr><td headers="label" class="gt_row gt_left">    0</td>
<td headers="stat_0_1" class="gt_row gt_center">303 (51%)</td>
<td headers="stat_1_1" class="gt_row gt_center">131 (43%)</td>
<td headers="stat_2_1" class="gt_row gt_center">172 (59%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">577 (49%)</td>
<td headers="stat_1_2" class="gt_row gt_center">287 (49%)</td>
<td headers="stat_2_2" class="gt_row gt_center">290 (49%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    1</td>
<td headers="stat_0_1" class="gt_row gt_center">297 (50%)</td>
<td headers="stat_1_1" class="gt_row gt_center">175 (57%)</td>
<td headers="stat_2_1" class="gt_row gt_center">122 (41%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">596 (51%)</td>
<td headers="stat_1_2" class="gt_row gt_center">298 (51%)</td>
<td headers="stat_2_2" class="gt_row gt_center">297 (51%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Socioeconomic status (1-5)</td>
<td headers="stat_0_1" class="gt_row gt_center"><br /></td>
<td headers="stat_1_1" class="gt_row gt_center"><br /></td>
<td headers="stat_2_1" class="gt_row gt_center"><br /></td>
<td headers="estimate_1" class="gt_row gt_center">0.20</td>
<td headers="stat_0_2" class="gt_row gt_center"><br /></td>
<td headers="stat_1_2" class="gt_row gt_center"><br /></td>
<td headers="stat_2_2" class="gt_row gt_center"><br /></td>
<td headers="estimate_2" class="gt_row gt_center">0.10</td></tr>
    <tr><td headers="label" class="gt_row gt_left">    1</td>
<td headers="stat_0_1" class="gt_row gt_center">111 (19%)</td>
<td headers="stat_1_1" class="gt_row gt_center">52 (17%)</td>
<td headers="stat_2_1" class="gt_row gt_center">59 (20%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">211 (18%)</td>
<td headers="stat_1_2" class="gt_row gt_center">112 (19%)</td>
<td headers="stat_2_2" class="gt_row gt_center">99 (17%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    2</td>
<td headers="stat_0_1" class="gt_row gt_center">108 (18%)</td>
<td headers="stat_1_1" class="gt_row gt_center">60 (20%)</td>
<td headers="stat_2_1" class="gt_row gt_center">48 (16%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">204 (17%)</td>
<td headers="stat_1_2" class="gt_row gt_center">94 (16%)</td>
<td headers="stat_2_2" class="gt_row gt_center">109 (19%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    3</td>
<td headers="stat_0_1" class="gt_row gt_center">136 (23%)</td>
<td headers="stat_1_1" class="gt_row gt_center">66 (22%)</td>
<td headers="stat_2_1" class="gt_row gt_center">70 (24%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">277 (24%)</td>
<td headers="stat_1_2" class="gt_row gt_center">146 (25%)</td>
<td headers="stat_2_2" class="gt_row gt_center">131 (22%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    4</td>
<td headers="stat_0_1" class="gt_row gt_center">126 (21%)</td>
<td headers="stat_1_1" class="gt_row gt_center">58 (19%)</td>
<td headers="stat_2_1" class="gt_row gt_center">68 (23%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">265 (23%)</td>
<td headers="stat_1_2" class="gt_row gt_center">127 (22%)</td>
<td headers="stat_2_2" class="gt_row gt_center">138 (24%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    5</td>
<td headers="stat_0_1" class="gt_row gt_center">119 (20%)</td>
<td headers="stat_1_1" class="gt_row gt_center">70 (23%)</td>
<td headers="stat_2_1" class="gt_row gt_center">49 (17%)</td>
<td headers="estimate_1" class="gt_row gt_center"><br /></td>
<td headers="stat_0_2" class="gt_row gt_center">216 (18%)</td>
<td headers="stat_1_2" class="gt_row gt_center">107 (18%)</td>
<td headers="stat_2_2" class="gt_row gt_center">110 (19%)</td>
<td headers="estimate_2" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Beck score (0-63)</td>
<td headers="stat_0_1" class="gt_row gt_center">31 (9)</td>
<td headers="stat_1_1" class="gt_row gt_center">25 (8)</td>
<td headers="stat_2_1" class="gt_row gt_center">36 (8)</td>
<td headers="estimate_1" class="gt_row gt_center">-1.4</td>
<td headers="stat_0_2" class="gt_row gt_center">31 (9)</td>
<td headers="stat_1_2" class="gt_row gt_center">30 (9)</td>
<td headers="stat_2_2" class="gt_row gt_center">31 (9)</td>
<td headers="estimate_2" class="gt_row gt_center">-0.16</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="9"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span class='gt_from_md'>Mean (SD); n (%)</span></td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="9"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>2</sup></span> <span class='gt_from_md'>Standardized Mean Difference</span></td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div id="outcome-analysis" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Outcome analysis<a href="iptw-application.html#outcome-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We compare below the unweighted and weighted Kaplan-Meir curves stratified on treatment group.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="iptw-application.html#cb5-1" tabindex="-1"></a><span class="fu">library</span>(survminer)</span>
<span id="cb5-2"><a href="iptw-application.html#cb5-2" tabindex="-1"></a>unadjusted<span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(TIME_TO_EVENT, EVENT)<span class="sc">~</span>TREAT0, <span class="at">data =</span> data)</span>
<span id="cb5-3"><a href="iptw-application.html#cb5-3" tabindex="-1"></a>adjusted<span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(TIME_TO_EVENT, EVENT)<span class="sc">~</span>TREAT0, <span class="at">data =</span> data, <span class="at">weights =</span> weights)</span>
<span id="cb5-4"><a href="iptw-application.html#cb5-4" tabindex="-1"></a>fit<span class="ot">&lt;-</span><span class="fu">list</span>(unadjusted,adjusted)</span>
<span id="cb5-5"><a href="iptw-application.html#cb5-5" tabindex="-1"></a><span class="fu">ggsurvplot_combine</span>(fit, </span>
<span id="cb5-6"><a href="iptw-application.html#cb5-6" tabindex="-1"></a>                   <span class="at">data =</span> data,</span>
<span id="cb5-7"><a href="iptw-application.html#cb5-7" tabindex="-1"></a>                   <span class="at">legend.title =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-8"><a href="iptw-application.html#cb5-8" tabindex="-1"></a>                   <span class="at">legend.labs =</span> <span class="fu">c</span>(<span class="st">&quot;Unweighted: Sertralex&quot;</span>, </span>
<span id="cb5-9"><a href="iptw-application.html#cb5-9" tabindex="-1"></a>                                   <span class="st">&quot;Unweighted: Duloxyn&quot;</span>,</span>
<span id="cb5-10"><a href="iptw-application.html#cb5-10" tabindex="-1"></a>                                   <span class="st">&quot;Weighted: Sertralex&quot;</span>, </span>
<span id="cb5-11"><a href="iptw-application.html#cb5-11" tabindex="-1"></a>                                   <span class="st">&quot;Weighted: Duloxyn&quot;</span>),</span>
<span id="cb5-12"><a href="iptw-application.html#cb5-12" tabindex="-1"></a>                   <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;#ff331a&quot;</span>,<span class="st">&quot;#ff80a6&quot;</span>,<span class="st">&quot;#FFDB6D&quot;</span>,<span class="st">&quot;#27d4ad&quot;</span>),</span>
<span id="cb5-13"><a href="iptw-application.html#cb5-13" tabindex="-1"></a>                   <span class="at">conf.int =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-14"><a href="iptw-application.html#cb5-14" tabindex="-1"></a>                   <span class="at">xlab =</span> <span class="st">&quot;Time (in weeks)&quot;</span>,</span>
<span id="cb5-15"><a href="iptw-application.html#cb5-15" tabindex="-1"></a>                   <span class="at">ggtheme =</span> <span class="fu">theme_bw</span>())</span></code></pre></div>
<p><img src="_main_files/figure-html/km-1.png" width="672" /></p>
<p>Then, we implement Cox models</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="iptw-application.html#cb6-1" tabindex="-1"></a>unweighted <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(TIME_TO_EVENT, EVENT)<span class="sc">~</span>TREAT0, <span class="at">data =</span> data) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="iptw-application.html#cb6-2" tabindex="-1"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb6-3"><a href="iptw-application.html#cb6-3" tabindex="-1"></a>    <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-4"><a href="iptw-application.html#cb6-4" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">list</span>(TREAT0 <span class="sc">~</span> <span class="st">&quot;Treatment (unweighted)&quot;</span>))</span>
<span id="cb6-5"><a href="iptw-application.html#cb6-5" tabindex="-1"></a>weighted <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(TIME_TO_EVENT, EVENT)<span class="sc">~</span>TREAT0<span class="sc">+</span>BECK0, <span class="at">weights =</span> weights, <span class="at">data =</span> data)  <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="iptw-application.html#cb6-6" tabindex="-1"></a>  <span class="fu">tbl_regression</span>(</span>
<span id="cb6-7"><a href="iptw-application.html#cb6-7" tabindex="-1"></a>    <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-8"><a href="iptw-application.html#cb6-8" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">list</span>(TREAT0 <span class="sc">~</span> <span class="st">&quot;Treatment (weighted)&quot;</span>,</span>
<span id="cb6-9"><a href="iptw-application.html#cb6-9" tabindex="-1"></a>                 BECK0 <span class="sc">~</span> <span class="st">&quot;Beck (to adjust remaining imbalance)&quot;</span>))</span>
<span id="cb6-10"><a href="iptw-application.html#cb6-10" tabindex="-1"></a><span class="fu">tbl_stack</span>(<span class="fu">list</span>(unweighted, weighted))</span></code></pre></div>
<div id="wmilxxvlav" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wmilxxvlav table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wmilxxvlav thead, #wmilxxvlav tbody, #wmilxxvlav tfoot, #wmilxxvlav tr, #wmilxxvlav td, #wmilxxvlav th {
  border-style: none;
}

#wmilxxvlav p {
  margin: 0;
  padding: 0;
}

#wmilxxvlav .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wmilxxvlav .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wmilxxvlav .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wmilxxvlav .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wmilxxvlav .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wmilxxvlav .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wmilxxvlav .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wmilxxvlav .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wmilxxvlav .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wmilxxvlav .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wmilxxvlav .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wmilxxvlav .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wmilxxvlav .gt_spanner_row {
  border-bottom-style: hidden;
}

#wmilxxvlav .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wmilxxvlav .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wmilxxvlav .gt_from_md > :first-child {
  margin-top: 0;
}

#wmilxxvlav .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wmilxxvlav .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wmilxxvlav .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wmilxxvlav .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wmilxxvlav .gt_row_group_first td {
  border-top-width: 2px;
}

#wmilxxvlav .gt_row_group_first th {
  border-top-width: 2px;
}

#wmilxxvlav .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wmilxxvlav .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wmilxxvlav .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wmilxxvlav .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wmilxxvlav .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wmilxxvlav .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wmilxxvlav .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wmilxxvlav .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wmilxxvlav .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wmilxxvlav .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wmilxxvlav .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wmilxxvlav .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wmilxxvlav .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wmilxxvlav .gt_left {
  text-align: left;
}

#wmilxxvlav .gt_center {
  text-align: center;
}

#wmilxxvlav .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wmilxxvlav .gt_font_normal {
  font-weight: normal;
}

#wmilxxvlav .gt_font_bold {
  font-weight: bold;
}

#wmilxxvlav .gt_font_italic {
  font-style: italic;
}

#wmilxxvlav .gt_super {
  font-size: 65%;
}

#wmilxxvlav .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wmilxxvlav .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wmilxxvlav .gt_indent_1 {
  text-indent: 5px;
}

#wmilxxvlav .gt_indent_2 {
  text-indent: 10px;
}

#wmilxxvlav .gt_indent_3 {
  text-indent: 15px;
}

#wmilxxvlav .gt_indent_4 {
  text-indent: 20px;
}

#wmilxxvlav .gt_indent_5 {
  text-indent: 25px;
}

#wmilxxvlav .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#wmilxxvlav div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label"><span class='gt_from_md'><strong>Characteristic</strong></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="estimate"><span class='gt_from_md'><strong>HR</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="conf.low"><span class='gt_from_md'><strong>95% CI</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="p.value"><span class='gt_from_md'><strong>p-value</strong></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">Treatment (unweighted)</td>
<td headers="estimate" class="gt_row gt_center"><br /></td>
<td headers="conf.low" class="gt_row gt_center"><br /></td>
<td headers="p.value" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    0</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="conf.low" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    1</td>
<td headers="estimate" class="gt_row gt_center">2.11</td>
<td headers="conf.low" class="gt_row gt_center">1.40, 3.18</td>
<td headers="p.value" class="gt_row gt_center"><0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Treatment (weighted)</td>
<td headers="estimate" class="gt_row gt_center"><br /></td>
<td headers="conf.low" class="gt_row gt_center"><br /></td>
<td headers="p.value" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    0</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="conf.low" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    1</td>
<td headers="estimate" class="gt_row gt_center">0.70</td>
<td headers="conf.low" class="gt_row gt_center">0.38, 1.29</td>
<td headers="p.value" class="gt_row gt_center">0.3</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Beck (to adjust remaining imbalance)</td>
<td headers="estimate" class="gt_row gt_center">1.11</td>
<td headers="conf.low" class="gt_row gt_center">1.07, 1.14</td>
<td headers="p.value" class="gt_row gt_center"><0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span class='gt_from_md'>HR = Hazard Ratio, CI = Confidence Interval</span></td>
    </tr>
  </tfoot>
</table>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="target-trial-emulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="clone-censor-weight.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-iptw-application.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
